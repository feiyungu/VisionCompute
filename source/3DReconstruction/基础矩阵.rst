`(学习笔记)投影与三维视觉——本征矩阵和基础矩阵 <http://blog.csdn.net/raby_gyl/article/details/17174751>`_ 
=================================================================================================================================


+本征矩阵数学
===================


空间平面的点和其法向量存在如下关系：

%\[(x-a)\dot n=0\]%
其中a表示空间中一固定点，x表示空间中任一点，n是该平面的法向量。

选取左摄像机投影中心
.. math:: O_l$%为坐标系的中心，那么上面点%$P_l$和点T%就可以表示成为%$O_l的向量，那么根据上面的准则可以写成：

%\[(P_l-T)^T(T\times P_l)=0\]%

将公式
.. math:: P_r=R(P_l-T)$% 带入，并且因为%$R_l=R^T,得到：

%\[(R^TP_r)^T(T\times P_l)=0\]%

又因为：

%\[T\times P_l=SP_l\Rightarrow S=\left[ {\begin{array}{*{20}{c}}
0&{{\rm{ - }}{{\rm{T}}_z}}&{{T_y}}\\
{{{\rm{T}}_z}}&0&{{\rm{ - }}{T_{\rm{x}}}}\\
{ - {T_y}}&{{T_{\rm{x}}}}&0
\end{array}} \right]\]%

上述公式可以写为：

%\[P_r^TEP_l=0\]%

其中
.. math:: E=RS， 为外参数。
上述公式给出了带你P都在世界坐标系下的坐标之间的关系，但是我们要求的是点P在两个成像仪上的投影点在坐标系下的关系。那么我们可以利用投影方程得到：

%\[p_l=f_lP_l/Z_l\]%

%\[p_r=f_rP_r/Z_r\]%

上述两式带入到上面的公式，并乘以
.. math:: Z_l*Z_r/（f_lf_r），得到最终的公式：

%\[p_r^TEp_l=0\]%

+基础矩阵数学
===================

我们用q（像素坐标）代替本质矩阵中的p，其中q=Mp，即
.. math:: p=M^{-1}q得到：

%\[q_r^T(M_r^{-1})^TEM_l^{-1}q_l=0\]%

因此有基础矩阵:
%\[F=(M_r^{-1})^TEM_l^{-1}\]%
